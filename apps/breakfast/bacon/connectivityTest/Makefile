COMPONENT=RadioCountToLedsAppC

#NOTE: to specify from command line:
# TEST_DESC=\\\"TEST_INFO\\\"
TEST_DESC?=\"NO_INFO\"
CFLAGS+=-DTEST_DESC=$(TEST_DESC)

TEST_CHANNEL?=0
CFLAGS+=-DTEST_CHANNEL=$(TEST_CHANNEL)

TEST_SENDER?=0xff
CFLAGS+=-DTEST_SENDER=$(TEST_SENDER)

PAYLOAD_LEN?=15
CFLAGS+=-DPAYLOAD_LEN=$(PAYLOAD_LEN)

TEST_IPI?=64
CFLAGS+=-DTEST_IPI=$(TEST_IPI)

TEST_SR?=125
CFLAGS+=-DTEST_SR=$(TEST_SR)

TEST_START_DELAY?=5120
CFLAGS+=-DTEST_START_DELAY=$(TEST_START_DELAY)

RF1A_AUTOCAL?=0
CFLAGS+=-DRF1A_AUTOCAL=$(RF1A_AUTOCAL)

AUTOSEND?=0
CFLAGS+=-DAUTOSEND=$(AUTOSEND)

RF1A_FEC_ENABLED?=1
CFLAGS+=-DRF1A_FEC_ENABLED=$(RF1A_FEC_ENABLED)
FEC_HAMMING74?=1
CFLAGS+=-DFEC_HAMMING74=$(FEC_HAMMING74)

CFLAGS+=-DHAS_CC1190
CFLAGS+=-DWAIT_FOR_PACKET=1

#dbm patable0
# -30 0x03
# -12 0x25
#  -6 0x2D
#   0 0x8D
#  10 0xC3
# max 0xC0
TEST_POWER?=0x8D
CFLAGS+=-DTEST_POWER=$(TEST_POWER)
CFLAGS += -DPATABLE0_SETTING=$(TEST_POWER)

CFLAGS+=-DPRINTF_STREAM=0
PFLAGS += -I$(TOSDIR)/lib/serialprintf
PFLAGS+=-I.
CFLAGS += -I../../util
CFLAGS += -I../../util/crc
# CFLAGS += -I$(TOSDIR)/lib/rf1a-fec/physical
# CFLAGS += -I$(TOSDIR)/lib/rf1a-fec/fec
# CFLAGS += -I$(TOSDIR)/lib/rf1a-tdma/physical/configs
#CFLAGS += -I../sniffer

#16mhz mclk, 32 mhz dco
PFLAGS+=-DMSP430XV2_DCO_CONFIG=MSP430XV2_DCO_32MHz_RSEL6

include $(MAKERULES)

COMPONENT=TestAppC

CFLAGS+=-I$(TOSDIR)/lib/serialprintf
CFLAGS += -I$(TOSDIR)/lib/cxl/link
CFLAGS += -I$(TOSDIR)/lib/cxl/packet
CFLAGS += -I$(TOSDIR)/lib/cxl/debug
CFLAGS += -I$(TOSDIR)/lib/rf1a-tdma/timer

CFLAGS += -I$(TOSDIR)/lib/cxl/am
CFLAGS += -DAM_ID_FROM_FLASH=0

PFLAGS+=-DMSP430XV2_DCO_CONFIG=MSP430XV2_DCO_32MHz_RSEL6
CFLAGS+=-DXT2_SMCLK

CFLAGS += -DENABLE_PRINTF=1
CFLAGS += -DRAW_SERIAL_PRINTF=1
CFLAGS += -DPRINTF_STREAM=0
CFLAGS+= -DTOSH_DATA_LENGTH=110
CFLAGS+= -DRF1A_FEC_ENABLED=1

START_IN_RX?=0
CFLAGS +=-DSTART_IN_RX=$(START_IN_RX)

CHANNEL?=0
CFLAGS+=-DCHANNEL=$(CHANNEL)

PACKET_LENGTH?=100
CFLAGS += -DPACKET_LENGTH=$(PACKET_LENGTH)

MAX_TX_SHORT?=4
CFLAGS += -DMAX_TX_SHORT=$(MAX_TX_SHORT)

MAX_TX_LONG?=4
CFLAGS += -DMAX_TX_LONG=$(MAX_TX_LONG)

REPEAT ?= 0
CFLAGS += -DREPEAT=$(REPEAT)

SELF_SFD_SYNCH?=1
CFLAGS += -DSELF_SFD_SYNCH=$(SELF_SFD_SYNCH)

TX_DELAY?=256UL
CFLAGS +=-DTX_DELAY=$(TX_DELAY)

POWER_ADJUST?=0
CFLAGS +=-DPOWER_ADJUST=$(POWER_ADJUST)

VERBOSE?=0
CFLAGS+=-DVERBOSE=$(VERBOSE)

#dbm patable0
# -30 0x03
# -12 0x25
#  -6 0x2D
#   0 0x8D
#  10 0xC3
# max 0xC0

MAX_POWER?= 0x2D
CFLAGS += -DMAX_POWER=$(MAX_POWER)

MIN_POWER?= 0x03
CFLAGS += -DMIN_POWER=$(MIN_POWER)

IS_SENDER?=0
CFLAGS += -DIS_SENDER=$(IS_SENDER)

TEST_NUM?=0
CFLAGS += -DTEST_NUM=$(TEST_NUM)

FRAMELEN_FAST_SHORT?=24700UL
CFLAGS+=-DFRAMELEN_FAST_SHORT=$(FRAMELEN_FAST_SHORT)

CFLAGS += -DDL_LINK=DL_WARN

include $(MAKERULES)
